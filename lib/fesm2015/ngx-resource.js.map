{"version":3,"file":"ngx-resource.js","sources":["ng://ngx-resource/services/ngx-resource.service.ts","ng://ngx-resource/ngx-resource.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { Observable, Observer } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class NgxResourceService<T, R = T[], I = number> {\n  protected _apiEndpoint: string;\n  protected _httpClient: HttpClient;\n\n  public list(\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    },\n    params?: HttpParams | {\n        [param: string]: string | string[];\n    }\n  ): Observable<HttpResponse<R>> {\n    return this._beforeRequest.pipe(\n      mergeMap(\n        () => this._httpClient.get<R>(this._apiEndpoint, {\n          headers: headers,\n          params: params,\n          observe: 'response'\n        })\n      )\n    );\n  }\n\n  public get(\n    id: I,\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    },\n    params?: HttpParams | {\n      [param: string]: string | string[];\n  }\n  ): Observable<HttpResponse<T>> {\n    return this._beforeRequest.pipe(\n      mergeMap(\n        () => this._httpClient.get<T>(this._apiEndpoint + '/' + id, {\n          headers: headers,\n          params: params,\n          observe: 'response'\n        })\n      )\n    );\n  }\n\n  public add(\n    entity: T,\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    }\n  ): Observable<HttpResponse<T>> {\n    return this._beforeRequest.pipe(\n      mergeMap(\n        () => this._httpClient.post<T>(this._apiEndpoint, entity, {\n          headers: headers,\n          observe: 'response'\n        })\n      )\n    );\n  }\n\n  public update(\n    id: I,\n    entity: T,\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    }\n  ): Observable<HttpResponse<T>> {\n    return this._beforeRequest.pipe(\n      mergeMap(() => this._httpClient.put<T>(this._apiEndpoint + '/' + id, entity, {\n        headers: headers,\n        observe: 'response'\n      }))\n    );\n  }\n\n  public delete(\n    id: I,\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    }\n  ): Observable<HttpResponse<void>> {\n    return this._beforeRequest.pipe(\n      mergeMap(\n        () => this._httpClient.delete<void>(this._apiEndpoint + '/' + id, {\n          headers: headers,\n          observe: 'response'\n        })\n      )\n    );\n  }\n  constructor(httpClient: HttpClient) {\n    this._httpClient = httpClient;\n  }\n\n  protected _beforeRequest: Observable<void> = new Observable((observer: Observer<void>): void => {\n      observer.complete();\n  });\n}","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;IAMa,kBAAkB,GAA/B,MAAa,kBAAkB;IAyF7B,YAAY,UAAsB;QAIxB,mBAAc,GAAqB,IAAI,UAAU,CAAC,CAAC,QAAwB;YACjF,QAAQ,CAAC,QAAQ,EAAE,CAAC;SACvB,CAAC,CAAC;QALD,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;KAC/B;IAvFM,IAAI,CACT,OAEC,EACD,MAEC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,QAAQ,CACN,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAI,IAAI,CAAC,YAAY,EAAE;YAC/C,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,UAAU;SACpB,CAAC,CACH,CACF,CAAC;KACH;IAEM,GAAG,CACR,EAAK,EACL,OAEC,EACD,MAED;QAEC,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,QAAQ,CACN,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAI,IAAI,CAAC,YAAY,GAAG,GAAG,GAAG,EAAE,EAAE;YAC1D,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,UAAU;SACpB,CAAC,CACH,CACF,CAAC;KACH;IAEM,GAAG,CACR,MAAS,EACT,OAEC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,QAAQ,CACN,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAI,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE;YACxD,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,UAAU;SACpB,CAAC,CACH,CACF,CAAC;KACH;IAEM,MAAM,CACX,EAAK,EACL,MAAS,EACT,OAEC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,QAAQ,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAI,IAAI,CAAC,YAAY,GAAG,GAAG,GAAG,EAAE,EAAE,MAAM,EAAE;YAC3E,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,UAAU;SACpB,CAAC,CAAC,CACJ,CAAC;KACH;IAEM,MAAM,CACX,EAAK,EACL,OAEC;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,QAAQ,CACN,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAO,IAAI,CAAC,YAAY,GAAG,GAAG,GAAG,EAAE,EAAE;YAChE,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,UAAU;SACpB,CAAC,CACH,CACF,CAAC;KACH;EAQF;;YAPyB,UAAU;;AAzFvB,kBAAkB;IAD9B,UAAU,EAAE;GACA,kBAAkB,CAgG9B;;ACtGD;;GAEG;;;;"}